



<!DOCTYPE html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Mongodb NodeJs 组件中文文档">
      
      
      
        <meta name="author" content="Nosy">
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="zh">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.2.5">
    
    
      
        <title>模型 - Mongoose文档</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.bcabdff3.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.792431c1.css">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    
    
    
      <body data-md-color-primary="indigo" data-md-color-accent="indigo">
    
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Mongoose文档" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Mongoose文档
              </span>
              <span class="md-header-nav__topic">
                模型
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/wohugb/mongoose-docs" title="前往 Github 仓库" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      wohugb/mongoose-docs
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." title="前言" class="md-tabs__link">
        前言
      </a>
    
  </li>

      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../guide/Schemas/" title="指南" class="md-tabs__link">
          指南
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../" title="API" class="md-tabs__link md-tabs__link--active">
          API
        </a>
      
    </li>
  

      
        
      
        
      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    Mongoose文档
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/wohugb/mongoose-docs" title="前往 Github 仓库" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      wohugb/mongoose-docs
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="前言" class="md-nav__link">
      前言
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../QuickStart/" title="快速开始" class="md-nav__link">
      快速开始
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      指南
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        指南
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../guide/Schemas/" title="模式" class="md-nav__link">
      模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guide/Connections/" title="连接" class="md-nav__link">
      连接
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guide/Models/" title="模式" class="md-nav__link">
      模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guide/Documents/" title="文档" class="md-nav__link">
      文档
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guide/Queries/" title="查询" class="md-nav__link">
      查询
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guide/Validation/" title="验证" class="md-nav__link">
      验证
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guide/Middleware/" title="中间件" class="md-nav__link">
      中间件
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guide/Populate/" title="填充" class="md-nav__link">
      填充
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guide/Discriminators/" title="鉴别器" class="md-nav__link">
      鉴别器
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guide/Plugins/" title="插件" class="md-nav__link">
      插件
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="接口" class="md-nav__link">
      接口
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Connection/" title="链接" class="md-nav__link">
      链接
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Schema/" title="模式" class="md-nav__link">
      模式
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SchemaType/" title="模式类型" class="md-nav__link">
      模式类型
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        模型
      </label>
    
    <a href="./" title="模型" class="md-nav__link md-nav__link--active">
      模型
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#model" title="Model()" class="md-nav__link">
    Model()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypedb" title="Model.prototype.db" class="md-nav__link">
    Model.prototype.db
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypecollection" title="Model.prototype.collection" class="md-nav__link">
    Model.prototype.collection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypemodelname" title="Model.prototype.modelName" class="md-nav__link">
    Model.prototype.modelName
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypewhere" title="Model.prototype.$where" class="md-nav__link">
    Model.prototype.$where
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypebasemodelname" title="Model.prototype.baseModelName" class="md-nav__link">
    Model.prototype.baseModelName
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypesave" title="Model.prototype.save()" class="md-nav__link">
    Model.prototype.save()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypeincrement" title="Model.prototype.increment()" class="md-nav__link">
    Model.prototype.increment()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototyperemove" title="Model.prototype.remove()" class="md-nav__link">
    Model.prototype.remove()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypemodel" title="Model.prototype.model()" class="md-nav__link">
    Model.prototype.model()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modeldiscriminator" title="Model.discriminator()" class="md-nav__link">
    Model.discriminator()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelinit" title="Model.init()" class="md-nav__link">
    Model.init()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelensureindexes" title="Model.ensureIndexes()" class="md-nav__link">
    Model.ensureIndexes()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelcreateindexes" title="Model.createIndexes()" class="md-nav__link">
    Model.createIndexes()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypeschema" title="Model.prototype.schema" class="md-nav__link">
    Model.prototype.schema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypebase" title="Model.prototype.base" class="md-nav__link">
    Model.prototype.base
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypediscriminators" title="Model.prototype.discriminators" class="md-nav__link">
    Model.prototype.discriminators
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modeltranslatealiases" title="Model.translateAliases()" class="md-nav__link">
    Model.translateAliases()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelremove" title="Model.remove()" class="md-nav__link">
    Model.remove()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modeldeleteone" title="Model.deleteOne()" class="md-nav__link">
    Model.deleteOne()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modeldeletemany" title="Model.deleteMany()" class="md-nav__link">
    Model.deleteMany()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelfind" title="Model.find()" class="md-nav__link">
    Model.find()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelfindbyid" title="Model.findById()" class="md-nav__link">
    Model.findById()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelfindone" title="Model.findOne()" class="md-nav__link">
    Model.findOne()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelcount" title="Model.count()" class="md-nav__link">
    Model.count()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modeldistinct" title="Model.distinct()" class="md-nav__link">
    Model.distinct()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelwhere" title="Model.where()" class="md-nav__link">
    Model.where()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypewhere_1" title="Model.prototype.$where()" class="md-nav__link">
    Model.prototype.$where()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelfindoneandupdate" title="Model.findOneAndUpdate()" class="md-nav__link">
    Model.findOneAndUpdate()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelfindbyidandupdate" title="Model.findByIdAndUpdate()" class="md-nav__link">
    Model.findByIdAndUpdate()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelfindoneandremove" title="Model.findOneAndRemove()" class="md-nav__link">
    Model.findOneAndRemove()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelfindbyidandremove" title="Model.findByIdAndRemove()" class="md-nav__link">
    Model.findByIdAndRemove()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelcreate" title="Model.create()" class="md-nav__link">
    Model.create()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelwatch" title="Model.watch()" class="md-nav__link">
    Model.watch()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelinsertmany" title="Model.insertMany()" class="md-nav__link">
    Model.insertMany()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelbulkwrite" title="Model.bulkWrite()" class="md-nav__link">
    Model.bulkWrite()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelhydrate" title="Model.hydrate()" class="md-nav__link">
    Model.hydrate()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelupdate" title="Model.update()" class="md-nav__link">
    Model.update()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelupdatemany" title="Model.updateMany()" class="md-nav__link">
    Model.updateMany()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelupdateone" title="Model.updateOne()" class="md-nav__link">
    Model.updateOne()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelreplaceone" title="Model.replaceOne()" class="md-nav__link">
    Model.replaceOne()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelmapreduce" title="Model.mapReduce()" class="md-nav__link">
    Model.mapReduce()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelaggregate" title="Model.aggregate()" class="md-nav__link">
    Model.aggregate()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelgeosearch" title="Model.geoSearch()" class="md-nav__link">
    Model.geoSearch()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelpopulate" title="Model.populate()" class="md-nav__link">
    Model.populate()
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Document/" title="文档" class="md-nav__link">
      文档
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Query/" title="查询" class="md-nav__link">
      查询
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Aggregate/" title="聚合" class="md-nav__link">
      聚合
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../VirtualType/" title="虚拟类型" class="md-nav__link">
      虚拟类型
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Error/" title="错误" class="md-nav__link">
      错误
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../VersionCompatibility/" title="版本兼容性" class="md-nav__link">
      版本兼容性
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../FAQ/" title="常问问题" class="md-nav__link">
      常问问题
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#model" title="Model()" class="md-nav__link">
    Model()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypedb" title="Model.prototype.db" class="md-nav__link">
    Model.prototype.db
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypecollection" title="Model.prototype.collection" class="md-nav__link">
    Model.prototype.collection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypemodelname" title="Model.prototype.modelName" class="md-nav__link">
    Model.prototype.modelName
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypewhere" title="Model.prototype.$where" class="md-nav__link">
    Model.prototype.$where
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypebasemodelname" title="Model.prototype.baseModelName" class="md-nav__link">
    Model.prototype.baseModelName
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypesave" title="Model.prototype.save()" class="md-nav__link">
    Model.prototype.save()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypeincrement" title="Model.prototype.increment()" class="md-nav__link">
    Model.prototype.increment()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototyperemove" title="Model.prototype.remove()" class="md-nav__link">
    Model.prototype.remove()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypemodel" title="Model.prototype.model()" class="md-nav__link">
    Model.prototype.model()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modeldiscriminator" title="Model.discriminator()" class="md-nav__link">
    Model.discriminator()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelinit" title="Model.init()" class="md-nav__link">
    Model.init()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelensureindexes" title="Model.ensureIndexes()" class="md-nav__link">
    Model.ensureIndexes()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelcreateindexes" title="Model.createIndexes()" class="md-nav__link">
    Model.createIndexes()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypeschema" title="Model.prototype.schema" class="md-nav__link">
    Model.prototype.schema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypebase" title="Model.prototype.base" class="md-nav__link">
    Model.prototype.base
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypediscriminators" title="Model.prototype.discriminators" class="md-nav__link">
    Model.prototype.discriminators
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modeltranslatealiases" title="Model.translateAliases()" class="md-nav__link">
    Model.translateAliases()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelremove" title="Model.remove()" class="md-nav__link">
    Model.remove()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modeldeleteone" title="Model.deleteOne()" class="md-nav__link">
    Model.deleteOne()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modeldeletemany" title="Model.deleteMany()" class="md-nav__link">
    Model.deleteMany()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelfind" title="Model.find()" class="md-nav__link">
    Model.find()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelfindbyid" title="Model.findById()" class="md-nav__link">
    Model.findById()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelfindone" title="Model.findOne()" class="md-nav__link">
    Model.findOne()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelcount" title="Model.count()" class="md-nav__link">
    Model.count()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modeldistinct" title="Model.distinct()" class="md-nav__link">
    Model.distinct()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelwhere" title="Model.where()" class="md-nav__link">
    Model.where()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelprototypewhere_1" title="Model.prototype.$where()" class="md-nav__link">
    Model.prototype.$where()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelfindoneandupdate" title="Model.findOneAndUpdate()" class="md-nav__link">
    Model.findOneAndUpdate()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelfindbyidandupdate" title="Model.findByIdAndUpdate()" class="md-nav__link">
    Model.findByIdAndUpdate()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelfindoneandremove" title="Model.findOneAndRemove()" class="md-nav__link">
    Model.findOneAndRemove()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelfindbyidandremove" title="Model.findByIdAndRemove()" class="md-nav__link">
    Model.findByIdAndRemove()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelcreate" title="Model.create()" class="md-nav__link">
    Model.create()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelwatch" title="Model.watch()" class="md-nav__link">
    Model.watch()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelinsertmany" title="Model.insertMany()" class="md-nav__link">
    Model.insertMany()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelbulkwrite" title="Model.bulkWrite()" class="md-nav__link">
    Model.bulkWrite()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelhydrate" title="Model.hydrate()" class="md-nav__link">
    Model.hydrate()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelupdate" title="Model.update()" class="md-nav__link">
    Model.update()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelupdatemany" title="Model.updateMany()" class="md-nav__link">
    Model.updateMany()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelupdateone" title="Model.updateOne()" class="md-nav__link">
    Model.updateOne()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelreplaceone" title="Model.replaceOne()" class="md-nav__link">
    Model.replaceOne()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelmapreduce" title="Model.mapReduce()" class="md-nav__link">
    Model.mapReduce()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelaggregate" title="Model.aggregate()" class="md-nav__link">
    Model.aggregate()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelgeosearch" title="Model.geoSearch()" class="md-nav__link">
    Model.geoSearch()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelpopulate" title="Model.populate()" class="md-nav__link">
    Model.populate()
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="_1">模型<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<h2 id="model">Model()<a class="headerlink" href="#model" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<ul>
<li>doc «Object» values with which to create the document</li>
</ul>
<p>Model constructor</p>
<p>Provides the interface to MongoDB collections as well as creates document instances.</p>
<h2 id="modelprototypedb">Model.prototype.db<a class="headerlink" href="#modelprototypedb" title="Permanent link">&para;</a></h2>
<p>Connection the model uses.</p>
<h2 id="modelprototypecollection">Model.prototype.collection<a class="headerlink" href="#modelprototypecollection" title="Permanent link">&para;</a></h2>
<p>Collection the model uses.</p>
<h2 id="modelprototypemodelname">Model.prototype.modelName<a class="headerlink" href="#modelprototypemodelname" title="Permanent link">&para;</a></h2>
<h2 id="modelprototypewhere">Model.prototype.$where<a class="headerlink" href="#modelprototypewhere" title="Permanent link">&para;</a></h2>
<p>Additional properties to attach to the query when calling <code>save()</code> and <code>isNew</code> is false.</p>
<h2 id="modelprototypebasemodelname">Model.prototype.baseModelName<a class="headerlink" href="#modelprototypebasemodelname" title="Permanent link">&para;</a></h2>
<p>If this is a discriminator model, <code>baseModelName</code> is the name of the base model.</p>
<h2 id="modelprototypesave">Model.prototype.save()<a class="headerlink" href="#modelprototypesave" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<ul>
<li>[fn] «Function» optional callback</li>
</ul>
<p><strong>返回</strong></p>
<p>Saves this document.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>product.sold = Date.now();
product.save(function (err, product) {
  if (err) ..
})
</pre></div>


<p>The callback will receive three parameters</p>
<ol>
<li><code>err</code> if an error occurred</li>
<li><code>product</code> which is the saved <code>product</code></li>
</ol>
<p>As an extra measure of flow control, save will return a Promise.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>product.save().then(function(product) {
   ...
});
</pre></div>


<h2 id="modelprototypeincrement">Model.prototype.increment()<a class="headerlink" href="#modelprototypeincrement" title="Permanent link">&para;</a></h2>
<p>Signal that we desire an increment of this documents version.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>Model.findById(id, function (err, doc) {
  doc.increment();
  doc.save(function (err) { .. })
})
</pre></div>


<h2 id="modelprototyperemove">Model.prototype.remove()<a class="headerlink" href="#modelprototyperemove" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<ul>
<li>[fn] «function(err,product)» optional callback</li>
</ul>
<p><strong>返回</strong></p>
<p>Removes this document from the db.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>product.remove(function (err, product) {
  if (err) return handleError(err);
  Product.findById(product._id, function (err, product) {
    console.log(product)
  })
})
</pre></div>


<p>As an extra measure of flow control, remove will return a Promise (bound to <code>fn</code> if passed) so it could be chained, or hooked to recive errors</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>product.remove().then(function (product) {
   ...
}).catch(function (err) {
   assert.ok(err)
})
</pre></div>


<h2 id="modelprototypemodel">Model.prototype.model()<a class="headerlink" href="#modelprototypemodel" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<ul>
<li>name «String» model name</li>
</ul>
<p>Returns another Model instance.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>var doc = new Tank;
doc.model(&#39;User&#39;).findById(id, callback);
</pre></div>


<h2 id="modeldiscriminator">Model.discriminator()<a class="headerlink" href="#modeldiscriminator" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<ul>
<li>schema «Schema» discriminator model schema</li>
</ul>
<p>Adds a discriminator type.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="kd">function</span> <span class="nx">BaseSchema() {</span>
  <span class="nx">Schema</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">add</span><span class="p">({</span>
    <span class="nx">name</span>: <span class="kt">String</span><span class="p">,</span>
    <span class="nx">createdAt</span>: <span class="kt">Date</span>
  <span class="p">});</span>
<span class="p">}</span>
<span class="nx">util</span><span class="p">.</span><span class="nx">inherits</span><span class="p">(</span><span class="nx">BaseSchema</span><span class="p">,</span> <span class="nx">Schema</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">PersonSchema</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BaseSchema</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">BossSchema</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BaseSchema</span><span class="p">({</span> <span class="nx">department</span>: <span class="kt">String</span> <span class="p">});</span>

<span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nx">model</span><span class="p">(</span><span class="s1">&#39;Person&#39;</span><span class="p">,</span> <span class="nx">PersonSchema</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">Boss</span> <span class="o">=</span> <span class="nx">Person</span><span class="p">.</span><span class="nx">discriminator</span><span class="p">(</span><span class="s1">&#39;Boss&#39;</span><span class="p">,</span> <span class="nx">BossSchema</span><span class="p">);</span>
</pre></div>


<h2 id="modelinit">Model.init()<a class="headerlink" href="#modelinit" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p>Performs any async initialization of this model against MongoDB. Currently, this function is only responsible for building [indexes, unless [<code>autoIndex</code> is turned off.</p>
<p>This function is called automatically, so you don't need to call it. This function is also idempotent, so you may call it to get back a promise that will resolve when your indexes are finished building as an alternative to <code>MyModel.on('index')</code></p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>var eventSchema = new Schema({ thing: { type: &#39;string&#39;, unique: true }})


var Event = mongoose.model(&#39;Event&#39;, eventSchema);

Event.init().then(function(Event) {


  console.log(&#39;Indexes are done building!&#39;);
});
</pre></div>


<h2 id="modelensureindexes">Model.ensureIndexes()<a class="headerlink" href="#modelensureindexes" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<ul>
<li>[cb] «Function» optional callback</li>
</ul>
<p><strong>返回</strong></p>
<p>Sends <code>createIndex</code> commands to mongo for each index declared in the schema. The <code>createIndex</code> commands are sent in series.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>Event.ensureIndexes(function (err) {
  if (err) return handleError(err);
});
</pre></div>


<p>After completion, an <code>index</code> event is emitted on this <code>Model</code> passing an error if one occurred.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>var eventSchema = new Schema({ thing: { type: &#39;string&#39;, unique: true }})
var Event = mongoose.model(&#39;Event&#39;, eventSchema);

Event.on(&#39;index&#39;, function (err) {
  if (err) console.error(err);
})
</pre></div>


<p><em>NOTE: It is not recommended that you run this in production. Index creation may impact database performance depending on your load. Use with caution.</em></p>
<h2 id="modelcreateindexes">Model.createIndexes()<a class="headerlink" href="#modelcreateindexes" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<ul>
<li>[cb] «Function» optional callback</li>
</ul>
<p><strong>返回</strong></p>
<p>Similar to <code>ensureIndexes()</code>, except for it uses the [<code>createIndex</code> function. The <code>ensureIndex()</code> function checks to see if an index with that name already exists, and, if not, does not attempt to create the index. <code>createIndex()</code> bypasses this check.</p>
<h2 id="modelprototypeschema">Model.prototype.schema<a class="headerlink" href="#modelprototypeschema" title="Permanent link">&para;</a></h2>
<h2 id="modelprototypebase">Model.prototype.base<a class="headerlink" href="#modelprototypebase" title="Permanent link">&para;</a></h2>
<p>Base Mongoose instance the model uses.</p>
<h2 id="modelprototypediscriminators">Model.prototype.discriminators<a class="headerlink" href="#modelprototypediscriminators" title="Permanent link">&para;</a></h2>
<p>Registered discriminators for this model.</p>
<h2 id="modeltranslatealiases">Model.translateAliases()<a class="headerlink" href="#modeltranslatealiases" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<ul>
<li>raw «Object» fields/conditions that may contain aliased keys</li>
</ul>
<p><strong>返回</strong></p>
<ul>
<li>«Object» the translated 'pure' fields/conditions</li>
</ul>
<p>Translate any aliases fields/conditions so the final query or document object is pure</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>Character
  .find(Character.translateAliases({
    &#39;名&#39;: &#39;Eddard Stark&#39;
  })
  .exec(function(err, characters) {})
</pre></div>


<p><strong>注释</strong></p>
<p>Only translate arguments of object type anything else is returned raw</p>
<h2 id="modelremove">Model.remove()<a class="headerlink" href="#modelremove" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Removes all documents that match <code>conditions</code> from the collection. To remove just the first document that matches <code>conditions</code>, set the <code>single</code> option to true.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">Character</span><span class="p">.</span><span class="nc">remove</span><span class="o">(</span><span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;Eddard Stark&#39;</span> <span class="p">}</span><span class="o">,</span> <span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>
</pre></div>


<p><strong>注释</strong></p>
<p>This method sends a remove command directly to MongoDB, no Mongoose documents are involved. Because no Mongoose documents are involved, <em>no middleware (hooks) are executed</em>.</p>
<h2 id="modeldeleteone">Model.deleteOne()<a class="headerlink" href="#modeldeleteone" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Deletes the first document that matches <code>conditions</code> from the collection. Behaves like <code>remove()</code>, but deletes at most one document regardless of the <code>single</code> option.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">Character</span><span class="p">.</span><span class="nc">deleteOne</span><span class="o">(</span><span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;Eddard Stark&#39;</span> <span class="p">}</span><span class="o">,</span> <span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>
</pre></div>


<p><strong>注释</strong></p>
<p>Like <code>Model.remove()</code>, this function does <strong>not</strong> trigger <code>pre('remove')</code> or <code>post('remove')</code> hooks.</p>
<hr />
<h2 id="modeldeletemany">Model.deleteMany()<a class="headerlink" href="#modeldeletemany" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Deletes all of the documents that match <code>conditions</code> from the collection. Behaves like <code>remove()</code>, but deletes all documents that match <code>conditions</code> regardless of the <code>single</code> option.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">Character</span><span class="p">.</span><span class="nc">deleteMany</span><span class="o">(</span><span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="o">/</span><span class="n">Stark</span><span class="o">/</span><span class="p">,</span> <span class="n">age</span><span class="o">:</span> <span class="err">{</span> <span class="err">$</span><span class="n">gte</span><span class="o">:</span> <span class="mi">18</span> <span class="p">}</span> <span class="err">}</span><span class="o">,</span> <span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>
</pre></div>


<p><strong>注释</strong></p>
<p>Like <code>Model.remove()</code>, this function does <strong>not</strong> trigger <code>pre('remove')</code> or <code>post('remove')</code> hooks.</p>
<hr />
<h2 id="modelfind">Model.find()<a class="headerlink" href="#modelfind" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Finds documents</p>
<p>The <code>conditions</code> are cast to their respective SchemaTypes before the command is sent.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">MyModel</span><span class="p">.</span><span class="nc">find</span><span class="o">(</span><span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;john&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">:</span> <span class="err">{</span> <span class="err">$</span><span class="n">gte</span><span class="o">:</span> <span class="mi">18</span> <span class="p">}</span><span class="err">}</span><span class="o">);</span>


<span class="nt">MyModel</span><span class="p">.</span><span class="nc">find</span><span class="o">(</span><span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;john&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">:</span> <span class="err">{</span> <span class="err">$</span><span class="n">gte</span><span class="o">:</span> <span class="mi">18</span> <span class="p">}</span><span class="err">}</span><span class="o">,</span> <span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">docs</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>


<span class="nt">MyModel</span><span class="p">.</span><span class="nc">find</span><span class="o">(</span><span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="o">/</span><span class="n">john</span><span class="o">/</span><span class="n">i</span> <span class="p">}</span><span class="o">,</span> <span class="s1">&#39;name friends&#39;</span><span class="o">,</span> <span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">docs</span><span class="o">)</span> <span class="p">{</span> <span class="p">}</span><span class="o">)</span>


<span class="nt">MyModel</span><span class="p">.</span><span class="nc">find</span><span class="o">(</span><span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="o">/</span><span class="n">john</span><span class="o">/</span><span class="n">i</span> <span class="p">}</span><span class="o">,</span> <span class="nt">null</span><span class="o">,</span> <span class="p">{</span> <span class="n">skip</span><span class="p">:</span> <span class="mi">10</span> <span class="p">}</span><span class="o">)</span>


<span class="nt">MyModel</span><span class="p">.</span><span class="nc">find</span><span class="o">(</span><span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="o">/</span><span class="n">john</span><span class="o">/</span><span class="n">i</span> <span class="p">}</span><span class="o">,</span> <span class="nt">null</span><span class="o">,</span> <span class="p">{</span> <span class="n">skip</span><span class="p">:</span> <span class="mi">10</span> <span class="p">}</span><span class="o">,</span> <span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">docs</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>


<span class="nt">var</span> <span class="nt">query</span> <span class="o">=</span> <span class="nt">MyModel</span><span class="p">.</span><span class="nc">find</span><span class="o">(</span><span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="o">/</span><span class="n">john</span><span class="o">/</span><span class="n">i</span> <span class="p">}</span><span class="o">,</span> <span class="nt">null</span><span class="o">,</span> <span class="p">{</span> <span class="n">skip</span><span class="p">:</span> <span class="mi">10</span> <span class="p">}</span><span class="o">)</span>
<span class="nt">query</span><span class="p">.</span><span class="nc">exec</span><span class="o">(</span><span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">docs</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>


<span class="nt">var</span> <span class="nt">query</span> <span class="o">=</span> <span class="nt">MyModel</span><span class="p">.</span><span class="nc">find</span><span class="o">(</span><span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="o">/</span><span class="n">john</span><span class="o">/</span><span class="n">i</span> <span class="p">}</span><span class="o">,</span> <span class="nt">null</span><span class="o">,</span> <span class="p">{</span> <span class="n">skip</span><span class="p">:</span> <span class="mi">10</span> <span class="p">}</span><span class="o">);</span>
<span class="nt">var</span> <span class="nt">promise</span> <span class="o">=</span> <span class="nt">query</span><span class="p">.</span><span class="nc">exec</span><span class="o">();</span>
<span class="nt">promise</span><span class="p">.</span><span class="nc">addBack</span><span class="o">(</span><span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">docs</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>
</pre></div>


<h2 id="modelfindbyid">Model.findById()<a class="headerlink" href="#modelfindbyid" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Finds a single document by its _id field. <code>findById(id)</code> is almost* equivalent to <code>findOne({ _id: id })</code>. If you want to query by a document's <code>_id</code>, use <code>findById()</code> instead of <code>findOne()</code>.</p>
<p>The <code>id</code> is cast based on the Schema before sending the command.</p>
<p>This function triggers the following middleware.</p>
<ul>
<li>Except for how it treats <code>undefined</code>. If you use <code>findOne()</code>, you'll see that <code>findOne(undefined)</code> and <code>findOne({ _id: undefined })</code> are equivalent to <code>findOne({})</code> and return arbitrary documents. However, mongoose translates <code>findById(undefined)</code> into <code>findOne({ _id: null })</code>.</li>
</ul>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">Adventure</span><span class="p">.</span><span class="nc">findById</span><span class="o">(</span><span class="nt">id</span><span class="o">,</span> <span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">adventure</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>


<span class="nt">Adventure</span><span class="p">.</span><span class="nc">findById</span><span class="o">(</span><span class="nt">id</span><span class="o">)</span><span class="p">.</span><span class="nc">exec</span><span class="o">(</span><span class="nt">callback</span><span class="o">);</span>


<span class="nt">Adventure</span><span class="p">.</span><span class="nc">findById</span><span class="o">(</span><span class="nt">id</span><span class="o">,</span> <span class="s1">&#39;name length&#39;</span><span class="o">,</span> <span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">adventure</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>


<span class="nt">Adventure</span><span class="p">.</span><span class="nc">findById</span><span class="o">(</span><span class="nt">id</span><span class="o">,</span> <span class="s1">&#39;name length&#39;</span><span class="o">)</span><span class="p">.</span><span class="nc">exec</span><span class="o">(</span><span class="nt">callback</span><span class="o">);</span>


<span class="nt">Adventure</span><span class="p">.</span><span class="nc">findById</span><span class="o">(</span><span class="nt">id</span><span class="o">,</span> <span class="s1">&#39;-length&#39;</span><span class="o">)</span><span class="p">.</span><span class="nc">exec</span><span class="o">(</span><span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">adventure</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>


<span class="nt">Adventure</span><span class="p">.</span><span class="nc">findById</span><span class="o">(</span><span class="nt">id</span><span class="o">,</span> <span class="s1">&#39;name&#39;</span><span class="o">,</span> <span class="p">{</span> <span class="n">lean</span><span class="p">:</span> <span class="n">true</span> <span class="p">}</span><span class="o">,</span> <span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">doc</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>


<span class="nt">Adventure</span><span class="p">.</span><span class="nc">findById</span><span class="o">(</span><span class="nt">id</span><span class="o">,</span> <span class="s1">&#39;name&#39;</span><span class="o">)</span><span class="p">.</span><span class="nc">lean</span><span class="o">()</span><span class="p">.</span><span class="nc">exec</span><span class="o">(</span><span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">doc</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>
</pre></div>


<h2 id="modelfindone">Model.findOne()<a class="headerlink" href="#modelfindone" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Finds one document.</p>
<p>The <code>conditions</code> are cast to their respective SchemaTypes before the command is sent.</p>
<p><em>Note:</em> <code>conditions</code> is optional, and if <code>conditions</code> is null or undefined, mongoose will send an empty <code>findOne</code> command to MongoDB, which will return an arbitrary document. If you're querying by <code>_id</code>, use <code>findById()</code> instead.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">Adventure</span><span class="p">.</span><span class="nc">findOne</span><span class="o">(</span><span class="p">{</span> <span class="n">type</span><span class="p">:</span> <span class="s1">&#39;iphone&#39;</span> <span class="p">}</span><span class="o">,</span> <span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">adventure</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>


<span class="nt">Adventure</span><span class="p">.</span><span class="nc">findOne</span><span class="o">(</span><span class="p">{</span> <span class="n">type</span><span class="p">:</span> <span class="s1">&#39;iphone&#39;</span> <span class="p">}</span><span class="o">)</span><span class="p">.</span><span class="nc">exec</span><span class="o">(</span><span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">adventure</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>


<span class="nt">Adventure</span><span class="p">.</span><span class="nc">findOne</span><span class="o">(</span><span class="p">{</span> <span class="n">type</span><span class="p">:</span> <span class="s1">&#39;iphone&#39;</span> <span class="p">}</span><span class="o">,</span> <span class="s1">&#39;name&#39;</span><span class="o">,</span> <span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">adventure</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>


<span class="nt">Adventure</span><span class="p">.</span><span class="nc">findOne</span><span class="o">(</span><span class="p">{</span> <span class="n">type</span><span class="p">:</span> <span class="s1">&#39;iphone&#39;</span> <span class="p">}</span><span class="o">,</span> <span class="s1">&#39;name&#39;</span><span class="o">)</span><span class="p">.</span><span class="nc">exec</span><span class="o">(</span><span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">adventure</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>


<span class="nt">Adventure</span><span class="p">.</span><span class="nc">findOne</span><span class="o">(</span><span class="p">{</span> <span class="n">type</span><span class="p">:</span> <span class="s1">&#39;iphone&#39;</span> <span class="p">}</span><span class="o">,</span> <span class="s1">&#39;name&#39;</span><span class="o">,</span> <span class="p">{</span> <span class="n">lean</span><span class="p">:</span> <span class="n">true</span> <span class="p">}</span><span class="o">,</span> <span class="nt">callback</span><span class="o">);</span>


<span class="nt">Adventure</span><span class="p">.</span><span class="nc">findOne</span><span class="o">(</span><span class="p">{</span> <span class="n">type</span><span class="p">:</span> <span class="s1">&#39;iphone&#39;</span> <span class="p">}</span><span class="o">,</span> <span class="s1">&#39;name&#39;</span><span class="o">,</span> <span class="p">{</span> <span class="n">lean</span><span class="p">:</span> <span class="n">true</span> <span class="p">}</span><span class="o">)</span><span class="p">.</span><span class="nc">exec</span><span class="o">(</span><span class="nt">callback</span><span class="o">);</span>


<span class="nt">Adventure</span><span class="p">.</span><span class="nc">findOne</span><span class="o">(</span><span class="p">{</span> <span class="n">type</span><span class="p">:</span> <span class="s1">&#39;iphone&#39;</span> <span class="p">}</span><span class="o">)</span><span class="p">.</span><span class="nc">select</span><span class="o">(</span><span class="s1">&#39;name&#39;</span><span class="o">)</span><span class="p">.</span><span class="nc">lean</span><span class="o">()</span><span class="p">.</span><span class="nc">exec</span><span class="o">(</span><span class="nt">callback</span><span class="o">);</span>
</pre></div>


<h2 id="modelcount">Model.count()<a class="headerlink" href="#modelcount" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Counts number of matching documents in a database collection.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>Adventure.count({ type: &#39;jungle&#39; }, function (err, count) {
  if (err) ..
  console.log(&#39;there are %d jungle adventures&#39;, count);
});
</pre></div>


<h2 id="modeldistinct">Model.distinct()<a class="headerlink" href="#modeldistinct" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Creates a Query for a <code>distinct</code> operation.</p>
<p>Passing a <code>callback</code> immediately executes the query.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="x">Link.distinct(&#39;url&#39;, </span><span class="cp">{</span> <span class="na">clicks</span><span class="o">:</span> <span class="cp">{</span><span class="nv">$gt</span><span class="o">:</span> <span class="m">100</span><span class="cp">}}</span><span class="x">, function (err, result) </span><span class="cp">{</span>
  <span class="na">if</span> <span class="o">(</span><span class="na">err</span><span class="o">)</span> <span class="na">return</span> <span class="na">handleError</span><span class="o">(</span><span class="na">err</span><span class="o">);</span>

  <span class="na">assert</span><span class="o">(</span><span class="na">Array</span><span class="o">.</span><span class="na">isArray</span><span class="o">(</span><span class="na">result</span><span class="o">));</span>
  <span class="na">console</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="s1">&#39;unique urls with more than 100 clicks&#39;</span><span class="o">,</span> <span class="na">result</span><span class="o">);</span>
<span class="cp">}</span><span class="x">)</span>

<span class="x">var query = Link.distinct(&#39;url&#39;);</span>
<span class="x">query.exec(callback);</span>
</pre></div>


<h2 id="modelwhere">Model.where()<a class="headerlink" href="#modelwhere" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<ul>
<li>[val] «Object» optional value</li>
</ul>
<p><strong>返回</strong></p>
<p>Creates a Query, applies the passed conditions, and returns the Query.</p>
<p>For example, instead of writing:</p>
<div class="codehilite"><pre><span></span><span class="nt">User</span><span class="p">.</span><span class="nc">find</span><span class="o">(</span><span class="p">{</span><span class="n">age</span><span class="p">:</span> <span class="err">{$</span><span class="n">gte</span><span class="o">:</span> <span class="mi">21</span><span class="p">,</span> <span class="err">$</span><span class="n">lte</span><span class="o">:</span> <span class="mi">65</span><span class="p">}</span><span class="err">}</span><span class="o">,</span> <span class="nt">callback</span><span class="o">);</span>
</pre></div>


<p>we can instead write:</p>
<div class="codehilite"><pre><span></span>User.where(&#39;age&#39;).gte(21).lte(65).exec(callback);
</pre></div>


<p>Since the Query class also supports <code>where</code> you can continue chaining</p>
<div class="codehilite"><pre><span></span>User
.where(&#39;age&#39;).gte(21).lte(65)
.where(&#39;name&#39;, /^b/i)
... etc
</pre></div>


<h2 id="modelprototypewhere_1">Model.prototype.$where()<a class="headerlink" href="#modelprototypewhere_1" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<ul>
<li>argument «String,Function» is a javascript string or anonymous function</li>
</ul>
<p><strong>返回</strong></p>
<p>Creates a <code>Query</code> and specifies a <code>$where</code> condition.</p>
<p>Sometimes you need to query for things in mongodb using a JavaScript expression. You can do so via <code>find({ $where: javascript })</code>, or you can use the mongoose shortcut method $where via a Query chain or from your mongoose Model.</p>
<div class="codehilite"><pre><span></span>Blog.$where(&#39;this.username.indexOf(&quot;val&quot;) !== -1&#39;).exec(function (err, docs) {});
</pre></div>


<h2 id="modelfindoneandupdate">Model.findOneAndUpdate()<a class="headerlink" href="#modelfindoneandupdate" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Issues a mongodb findAndModify update command.</p>
<p>Finds a matching document, updates it according to the <code>update</code> arg, passing any <code>options</code>, and returns the found document (if any) to the callback. The query executes immediately if <code>callback</code> is passed else a Query object is returned.</p>
<p><strong>选项</strong></p>
<ul>
<li><code>new</code>: bool - if true, return the modified document rather than the original. defaults to false (changed in 4.0)</li>
<li><code>upsert</code>: bool - creates the object if it doesn't exist. defaults to false.</li>
<li><code>fields</code>: {Object|String} - Field selection. Equivalent to <code>.select(fields).findOneAndUpdate()</code></li>
<li><code>maxTimeMS</code>: puts a time limit on the query - requires mongodb &gt;= 2.6.0</li>
<li><code>sort</code>: if multiple docs are found by the conditions, sets the sort order to choose which doc to update</li>
<li><code>runValidators</code>: if true, runs [update validators on this command. Update validators validate the update operation against the model's schema.</li>
<li><code>setDefaultsOnInsert</code>: if this and <code>upsert</code> are true, mongoose will apply the [defaults specified in the model's schema if a new document is created. This option only works on MongoDB &gt;= 2.4 because it relies on [MongoDB's <code>$setOnInsert</code> operator.</li>
<li><code>rawResult</code>: if true, returns the [raw result from the MongoDB driver</li>
<li><code>strict</code>: overwrites the schema's [strict mode option for this update</li>
</ul>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>A.findOneAndUpdate(conditions, update, options, callback)
A.findOneAndUpdate(conditions, update, options)
A.findOneAndUpdate(conditions, update, callback)
A.findOneAndUpdate(conditions, update)
A.findOneAndUpdate()
</pre></div>


<p><strong>注释</strong></p>
<p>All top level update keys which are not <code>atomic</code> operation names are treated as set operations:</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">var</span> <span class="nt">query</span> <span class="o">=</span> <span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;borne&#39;</span> <span class="p">}</span><span class="o">;</span>
<span class="nt">Model</span><span class="p">.</span><span class="nc">findOneAndUpdate</span><span class="o">(</span><span class="nt">query</span><span class="o">,</span> <span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;jason bourne&#39;</span> <span class="p">}</span><span class="o">,</span> <span class="nt">options</span><span class="o">,</span> <span class="nt">callback</span><span class="o">)</span>


<span class="nt">Model</span><span class="p">.</span><span class="nc">findOneAndUpdate</span><span class="o">(</span><span class="nt">query</span><span class="o">,</span> <span class="p">{</span> <span class="err">$</span><span class="n">set</span><span class="p">:</span> <span class="err">{</span> <span class="n">name</span><span class="o">:</span> <span class="s1">&#39;jason bourne&#39;</span> <span class="p">}</span><span class="err">}</span><span class="o">,</span> <span class="nt">options</span><span class="o">,</span> <span class="nt">callback</span><span class="o">)</span>
</pre></div>


<p>This helps prevent accidentally overwriting your document with <code>{ name: 'jason bourne' }</code>.</p>
<p><strong>注释</strong></p>
<p>Values are cast to their appropriate types when using the findAndModify helpers. However, the below are not executed by default.</p>
<ul>
<li>defaults. Use the <code>setDefaultsOnInsert</code> option to override.</li>
</ul>
<p><code>findAndModify</code> helpers support limited validation. You can enable these by setting the <code>runValidators</code> options, respectively.</p>
<p>If you need full-fledged validation, use the traditional approach of first retrieving the document.</p>
<div class="codehilite"><pre><span></span>Model.findById(id, function (err, doc) {
  if (err) ..
  doc.name = &#39;jason bourne&#39;;
  doc.save(callback);
});
</pre></div>


<h2 id="modelfindbyidandupdate">Model.findByIdAndUpdate()<a class="headerlink" href="#modelfindbyidandupdate" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Issues a mongodb findAndModify update command by a document's _id field. <code>findByIdAndUpdate(id, ...)</code> is equivalent to <code>findOneAndUpdate({ _id: id }, ...)</code>.</p>
<p>Finds a matching document, updates it according to the <code>update</code> arg, passing any <code>options</code>, and returns the found document (if any) to the callback. The query executes immediately if <code>callback</code> is passed else a Query object is returned.</p>
<p>This function triggers the following middleware.</p>
<p><strong>选项</strong></p>
<ul>
<li><code>new</code>: bool - true to return the modified document rather than the original. defaults to false</li>
<li><code>upsert</code>: bool - creates the object if it doesn't exist. defaults to false.</li>
<li><code>runValidators</code>: if true, runs [update validators on this command. Update validators validate the update operation against the model's schema.</li>
<li><code>setDefaultsOnInsert</code>: if this and <code>upsert</code> are true, mongoose will apply the [defaults specified in the model's schema if a new document is created. This option only works on MongoDB &gt;= 2.4 because it relies on [MongoDB's <code>$setOnInsert</code> operator.</li>
<li><code>sort</code>: if multiple docs are found by the conditions, sets the sort order to choose which doc to update</li>
<li><code>select</code>: sets the document fields to return</li>
<li><code>rawResult</code>: if true, returns the [raw result from the MongoDB driver</li>
<li><code>strict</code>: overwrites the schema's [strict mode option for this update</li>
</ul>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>A.findByIdAndUpdate(id, update, options, callback)
A.findByIdAndUpdate(id, update, options)
A.findByIdAndUpdate(id, update, callback)
A.findByIdAndUpdate(id, update)
A.findByIdAndUpdate()
</pre></div>


<p><strong>注释</strong></p>
<p>All top level update keys which are not <code>atomic</code> operation names are treated as set operations:</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>Model.findByIdAndUpdate(id, { name: &#39;jason bourne&#39; }, options, callback)


Model.findByIdAndUpdate(id, { $set: { name: &#39;jason bourne&#39; }}, options, callback)
</pre></div>


<p>This helps prevent accidentally overwriting your document with <code>{ name: 'jason bourne' }</code>.</p>
<p><strong>注释</strong></p>
<p>Values are cast to their appropriate types when using the findAndModify helpers. However, the below are not executed by default.</p>
<ul>
<li>defaults. Use the <code>setDefaultsOnInsert</code> option to override.</li>
</ul>
<p><code>findAndModify</code> helpers support limited validation. You can enable these by setting the <code>runValidators</code> options, respectively.</p>
<p>If you need full-fledged validation, use the traditional approach of first retrieving the document.</p>
<div class="codehilite"><pre><span></span>Model.findById(id, function (err, doc) {
  if (err) ..
  doc.name = &#39;jason bourne&#39;;
  doc.save(callback);
});
</pre></div>


<h2 id="modelfindoneandremove">Model.findOneAndRemove()<a class="headerlink" href="#modelfindoneandremove" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Issue a mongodb findAndModify remove command.</p>
<p>Finds a matching document, removes it, passing the found document (if any) to the callback.</p>
<p>Executes immediately if <code>callback</code> is passed else a Query object is returned.</p>
<p>This function triggers the following middleware.</p>
<p><strong>选项</strong></p>
<ul>
<li><code>sort</code>: if multiple docs are found by the conditions, sets the sort order to choose which doc to update</li>
<li><code>maxTimeMS</code>: puts a time limit on the query - requires mongodb &gt;= 2.6.0</li>
<li><code>select</code>: sets the document fields to return</li>
<li><code>rawResult</code>: if true, returns the [raw result from the MongoDB driver</li>
<li><code>strict</code>: overwrites the schema's [strict mode option for this update</li>
</ul>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>A.findOneAndRemove(conditions, options, callback)
A.findOneAndRemove(conditions, options)
A.findOneAndRemove(conditions, callback)
A.findOneAndRemove(conditions)
A.findOneAndRemove()
</pre></div>


<p>Values are cast to their appropriate types when using the findAndModify helpers. However, the below are not executed by default.</p>
<ul>
<li>defaults. Use the <code>setDefaultsOnInsert</code> option to override.</li>
</ul>
<p><code>findAndModify</code> helpers support limited validation. You can enable these by setting the <code>runValidators</code> options, respectively.</p>
<p>If you need full-fledged validation, use the traditional approach of first retrieving the document.</p>
<div class="codehilite"><pre><span></span>Model.findById(id, function (err, doc) {
  if (err) ..
  doc.name = &#39;jason bourne&#39;;
  doc.save(callback);
});
</pre></div>


<h2 id="modelfindbyidandremove">Model.findByIdAndRemove()<a class="headerlink" href="#modelfindbyidandremove" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Issue a mongodb findAndModify remove command by a document's _id field. <code>findByIdAndRemove(id, ...)</code> is equivalent to <code>findOneAndRemove({ _id: id }, ...)</code>.</p>
<p>Finds a matching document, removes it, passing the found document (if any) to the callback.</p>
<p>Executes immediately if <code>callback</code> is passed, else a <code>Query</code> object is returned.</p>
<p>This function triggers the following middleware.</p>
<p><strong>选项</strong></p>
<ul>
<li><code>sort</code>: if multiple docs are found by the conditions, sets the sort order to choose which doc to update</li>
<li><code>select</code>: sets the document fields to return</li>
<li><code>rawResult</code>: if true, returns the [raw result from the MongoDB driver</li>
<li><code>strict</code>: overwrites the schema's [strict mode option for this update</li>
</ul>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>A.findByIdAndRemove(id, options, callback)
A.findByIdAndRemove(id, options)
A.findByIdAndRemove(id, callback)
A.findByIdAndRemove(id)
A.findByIdAndRemove()
</pre></div>


<h2 id="modelcreate">Model.create()<a class="headerlink" href="#modelcreate" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<ul>
<li>[callback] «Function» callback</li>
</ul>
<p><strong>返回</strong></p>
<p>Shortcut for saving one or more documents to the database. <code>MyModel.create(docs)</code> does <code>new MyModel(doc).save()</code> for every doc in docs.</p>
<p>This function triggers the following middleware.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">Candy</span><span class="p">.</span><span class="nc">create</span><span class="o">(</span><span class="p">{</span> <span class="n">type</span><span class="p">:</span> <span class="s1">&#39;jelly bean&#39;</span> <span class="p">}</span><span class="o">,</span> <span class="p">{</span> <span class="n">type</span><span class="p">:</span> <span class="s1">&#39;snickers&#39;</span> <span class="p">}</span><span class="o">,</span> <span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">jellybean</span><span class="o">,</span> <span class="nt">snickers</span><span class="o">)</span> <span class="p">{</span>
  <span class="err">if</span> <span class="err">(err)</span>
<span class="p">}</span><span class="o">);</span>


<span class="nt">var</span> <span class="nt">array</span> <span class="o">=</span> <span class="cp">[</span><span class="p">{</span> <span class="k">type</span><span class="p">:</span> <span class="s1">&#39;jelly bean&#39;</span> <span class="p">},</span> <span class="p">{</span> <span class="k">type</span><span class="p">:</span> <span class="s1">&#39;snickers&#39;</span> <span class="p">}</span><span class="cp">]</span><span class="o">;</span>
<span class="nt">Candy</span><span class="p">.</span><span class="nc">create</span><span class="o">(</span><span class="nt">array</span><span class="o">,</span> <span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">candies</span><span class="o">)</span> <span class="p">{</span>
  <span class="err">if</span> <span class="err">(err)</span>

  <span class="err">var</span> <span class="err">jellybean</span> <span class="err">=</span> <span class="err">candies</span><span class="cp">[</span><span class="mi">0</span><span class="cp">]</span><span class="p">;</span>
  <span class="err">var</span> <span class="err">snickers</span> <span class="err">=</span> <span class="err">candies</span><span class="cp">[</span><span class="mi">1</span><span class="cp">]</span><span class="p">;</span>

<span class="p">}</span><span class="o">);</span>


<span class="nt">var</span> <span class="nt">promise</span> <span class="o">=</span> <span class="nt">Candy</span><span class="p">.</span><span class="nc">create</span><span class="o">(</span><span class="p">{</span> <span class="n">type</span><span class="p">:</span> <span class="s1">&#39;jawbreaker&#39;</span> <span class="p">}</span><span class="o">);</span>
<span class="nt">promise</span><span class="p">.</span><span class="nc">then</span><span class="o">(</span><span class="nt">function</span> <span class="o">(</span><span class="nt">jawbreaker</span><span class="o">)</span> <span class="p">{</span>

<span class="p">}</span><span class="o">)</span>
</pre></div>


<h2 id="modelwatch">Model.watch()<a class="headerlink" href="#modelwatch" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<ul>
<li>«ChangeStream» mongoose-specific change stream wrapper</li>
</ul>
<p><em>Requires a replica set running MongoDB &gt;= 3.6.0.</em> Watches the underlying collection for changes using [MongoDB change streams.</p>
<p>This function does <strong>not</strong> trigger any middleware. In particular, it does <strong>not</strong> trigger aggregate middleware.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">const</span> <span class="nt">doc</span> <span class="o">=</span> <span class="nt">await</span> <span class="nt">Person</span><span class="p">.</span><span class="nc">create</span><span class="o">(</span><span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;Ned Stark&#39;</span> <span class="p">}</span><span class="o">);</span>
<span class="nt">Person</span><span class="p">.</span><span class="nc">watch</span><span class="o">()</span><span class="p">.</span><span class="nc">on</span><span class="o">(</span><span class="s1">&#39;change&#39;</span><span class="o">,</span> <span class="nt">change</span> <span class="o">=&gt;</span> <span class="nt">console</span><span class="p">.</span><span class="nc">log</span><span class="o">(</span><span class="nt">change</span><span class="o">));</span>





<span class="nt">await</span> <span class="nt">doc</span><span class="p">.</span><span class="nc">remove</span><span class="o">();</span>
</pre></div>


<h2 id="modelinsertmany">Model.insertMany()<a class="headerlink" href="#modelinsertmany" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<ul>
<li>[callback] «Function» callback</li>
</ul>
<p><strong>返回</strong></p>
<p>Shortcut for validating an array of documents and inserting them into MongoDB if they're all valid. This function is faster than <code>.create()</code> because it only sends one operation to the server, rather than one for each document.</p>
<p>Mongoose always validates each document <strong>before</strong> sending <code>insertMany</code> to MongoDB. So if one document has a validation error, no documents will be saved, unless you set [the <code>ordered</code> option to false.</p>
<p>This function does <strong>not</strong> trigger save middleware.</p>
<p>This function triggers the following middleware.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">var</span> <span class="nt">arr</span> <span class="o">=</span> <span class="cp">[</span><span class="p">{</span> <span class="nx">name</span><span class="p">:</span> <span class="s1">&#39;Star Wars&#39;</span> <span class="p">},</span> <span class="p">{</span> <span class="nx">name</span><span class="p">:</span> <span class="s1">&#39;The Empire Strikes Back&#39;</span> <span class="p">}</span><span class="cp">]</span><span class="o">;</span>
<span class="nt">Movies</span><span class="p">.</span><span class="nc">insertMany</span><span class="o">(</span><span class="nt">arr</span><span class="o">,</span> <span class="nt">function</span><span class="o">(</span><span class="nt">error</span><span class="o">,</span> <span class="nt">docs</span><span class="o">)</span> <span class="p">{}</span><span class="o">);</span>
</pre></div>


<h2 id="modelbulkwrite">Model.bulkWrite()<a class="headerlink" href="#modelbulkwrite" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<ul>
<li>[callback] «Function» callback <code>function(error, bulkWriteOpResult) {}</code></li>
</ul>
<p><strong>返回</strong></p>
<ul>
<li>«Promise» resolves to a <code>BulkWriteOpResult</code> if the operation succeeds</li>
</ul>
<p>Sends multiple <code>insertOne</code>, <code>updateOne</code>, <code>updateMany</code>, <code>replaceOne</code>, <code>deleteOne</code>, and/or <code>deleteMany</code> operations to the MongoDB server in one command. This is faster than sending multiple independent operations (like) if you use <code>create()</code>) because with <code>bulkWrite()</code> there is only one round trip to MongoDB.</p>
<p>Mongoose will perform casting on all operations you provide.</p>
<p>This function does <strong>not</strong> trigger any middleware, not <code>save()</code> nor <code>update()</code>. If you need to trigger <code>save()</code> middleware for every document use [<code>create()</code> instead.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>Character.bulkWrite([
  {
    insertOne: {
      document: {
        name: &#39;Eddard Stark&#39;,
        title: &#39;Warden of the North&#39;
      }
    }
  },
  {
    updateOne: {
      filter: { name: &#39;Eddard Stark&#39; },



      update: { title: &#39;Hand of the King&#39; }
    }
  },
  {
    deleteOne: {
      {
        filter: { name: &#39;Eddard Stark&#39; }
      }
    }
  }
]).then(handleResult);
</pre></div>


<h2 id="modelhydrate">Model.hydrate()<a class="headerlink" href="#modelhydrate" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<ul>
<li>«Model» document instance</li>
</ul>
<p>Shortcut for creating a new Document from existing raw data, pre-saved in the DB. The document returned has no paths marked as modified initially.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">var</span> <span class="nt">mongooseCandy</span> <span class="o">=</span> <span class="nt">Candy</span><span class="p">.</span><span class="nc">hydrate</span><span class="o">(</span><span class="p">{</span> <span class="n">_id</span><span class="p">:</span> <span class="s1">&#39;54108337212ffb6d459f854c&#39;</span><span class="p">,</span> <span class="n">type</span><span class="o">:</span> <span class="s1">&#39;jelly bean&#39;</span> <span class="p">}</span><span class="o">);</span>
</pre></div>


<h2 id="modelupdate">Model.update()<a class="headerlink" href="#modelupdate" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Updates one document in the database without returning it.</p>
<p>This function triggers the following middleware.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">MyModel</span><span class="p">.</span><span class="nc">update</span><span class="o">(</span><span class="p">{</span> <span class="n">age</span><span class="p">:</span> <span class="err">{</span> <span class="err">$</span><span class="n">gt</span><span class="o">:</span> <span class="mi">18</span> <span class="p">}</span> <span class="err">}</span><span class="o">,</span> <span class="p">{</span> <span class="n">oldEnough</span><span class="p">:</span> <span class="n">true</span> <span class="p">}</span><span class="o">,</span> <span class="nt">fn</span><span class="o">);</span>
<span class="nt">MyModel</span><span class="p">.</span><span class="nc">update</span><span class="o">(</span><span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;Tobi&#39;</span> <span class="p">}</span><span class="o">,</span> <span class="p">{</span> <span class="n">ferret</span><span class="p">:</span> <span class="n">true</span> <span class="p">}</span><span class="o">,</span> <span class="p">{</span> <span class="n">multi</span><span class="p">:</span> <span class="n">true</span> <span class="p">}</span><span class="o">,</span> <span class="nt">function</span> <span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">raw</span><span class="o">)</span> <span class="p">{</span>
  <span class="err">if</span> <span class="err">(err)</span> <span class="err">return</span> <span class="err">handleError(err)</span><span class="p">;</span>
  <span class="err">console.log(&#39;The</span> <span class="err">raw</span> <span class="err">response</span> <span class="err">from</span> <span class="err">Mongo</span> <span class="err">was</span> <span class="err">&#39;,</span> <span class="err">raw)</span><span class="p">;</span>
<span class="p">}</span><span class="o">);</span>
</pre></div>


<p><strong>有效的选项</strong></p>
<ul>
<li><code>safe</code> (boolean) safe mode (defaults to value set in schema (true))</li>
<li><code>upsert</code> (boolean) whether to create the doc if it doesn't match (false)</li>
<li><code>multi</code> (boolean) whether multiple documents should be updated (false)</li>
<li><code>runValidators</code>: if true, runs [update validators on this command. Update validators validate the update operation against the model's schema.</li>
<li><code>setDefaultsOnInsert</code>: if this and <code>upsert</code> are true, mongoose will apply the [defaults specified in the model's schema if a new document is created. This option only works on MongoDB &gt;= 2.4 because it relies on [MongoDB's <code>$setOnInsert</code> operator.</li>
<li><code>strict</code> (boolean) overrides the <code>strict</code> option for this update</li>
<li><code>overwrite</code> (boolean) disables update-only mode, allowing you to overwrite the doc (false)</li>
</ul>
<p>All <code>update</code> values are cast to their appropriate SchemaTypes before being sent.</p>
<p>The <code>callback</code> function receives <code>(err, rawResponse)</code>.</p>
<ul>
<li><code>err</code> is the error if any occurred</li>
<li><code>rawResponse</code> is the full response from Mongo</li>
</ul>
<p><strong>注释</strong></p>
<p>All top level keys which are not <code>atomic</code> operation names are treated as set operations:</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">var</span> <span class="nt">query</span> <span class="o">=</span> <span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;borne&#39;</span> <span class="p">}</span><span class="o">;</span>
<span class="nt">Model</span><span class="p">.</span><span class="nc">update</span><span class="o">(</span><span class="nt">query</span><span class="o">,</span> <span class="p">{</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;jason bourne&#39;</span> <span class="p">}</span><span class="o">,</span> <span class="nt">options</span><span class="o">,</span> <span class="nt">callback</span><span class="o">)</span>


<span class="nt">Model</span><span class="p">.</span><span class="nc">update</span><span class="o">(</span><span class="nt">query</span><span class="o">,</span> <span class="p">{</span> <span class="err">$</span><span class="n">set</span><span class="p">:</span> <span class="err">{</span> <span class="n">name</span><span class="o">:</span> <span class="s1">&#39;jason bourne&#39;</span> <span class="p">}</span><span class="err">}</span><span class="o">,</span> <span class="nt">options</span><span class="o">,</span> <span class="nt">callback</span><span class="o">)</span>
</pre></div>


<p>This helps prevent accidentally overwriting all documents in your collection with <code>{ name: 'jason bourne' }</code>.</p>
<p><strong>注释</strong></p>
<p>Be careful to not use an existing model instance for the update clause (this won't work and can cause weird behavior like infinite loops). Also, ensure that the update clause does not have an _id property, which causes Mongo to return a "Mod on _id not allowed" error.</p>
<p><strong>注释</strong></p>
<p>To update documents without waiting for a response from MongoDB, do not pass a <code>callback</code>, then call <code>exec</code> on the returned [Query:</p>
<div class="codehilite"><pre><span></span><span class="nt">Comment</span><span class="p">.</span><span class="nc">update</span><span class="o">(</span><span class="p">{</span> <span class="n">_id</span><span class="p">:</span> <span class="n">id</span> <span class="p">}</span><span class="o">,</span> <span class="p">{</span> <span class="err">$</span><span class="n">set</span><span class="p">:</span> <span class="err">{</span> <span class="kc">text</span><span class="o">:</span> <span class="s1">&#39;changed&#39;</span> <span class="p">}</span><span class="err">}</span><span class="o">)</span><span class="p">.</span><span class="nc">exec</span><span class="o">();</span>
</pre></div>


<p><strong>注释</strong></p>
<p>Although values are casted to their appropriate types when using update, the following are <em>not</em> applied:</p>
<ul>
<li>defaults</li>
<li>setters</li>
<li>validators</li>
<li>middleware</li>
</ul>
<p>If you need those features, use the traditional approach of first retrieving the document.</p>
<div class="codehilite"><pre><span></span>Model.findOne({ name: &#39;borne&#39; }, function (err, doc) {
  if (err) ..
  doc.name = &#39;jason bourne&#39;;
  doc.save(callback);
})
</pre></div>


<h2 id="modelupdatemany">Model.updateMany()<a class="headerlink" href="#modelupdatemany" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Same as <code>update()</code>, except MongoDB will update <em>all</em> documents that match <code>criteria</code> (as opposed to just the first one) regardless of the value of the <code>multi</code> option.</p>
<p><strong>Note</strong> updateMany will <em>not</em> fire update middleware. Use <code>pre('updateMany')</code> and <code>post('updateMany')</code> instead.</p>
<p>This function triggers the following middleware.</p>
<h2 id="modelupdateone">Model.updateOne()<a class="headerlink" href="#modelupdateone" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Same as <code>update()</code>, except MongoDB will update <em>only</em> the first document that matches <code>criteria</code> regardless of the value of the <code>multi</code> option.</p>
<p>This function triggers the following middleware.</p>
<h2 id="modelreplaceone">Model.replaceOne()<a class="headerlink" href="#modelreplaceone" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Same as <code>update()</code>, except MongoDB replace the existing document with the given document (no atomic operators like <code>$set</code>).</p>
<p>This function triggers the following middleware.</p>
<h2 id="modelmapreduce">Model.mapReduce()<a class="headerlink" href="#modelmapreduce" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<ul>
<li>[callback] «Function» optional callback</li>
</ul>
<p><strong>返回</strong></p>
<p>Executes a mapReduce command.</p>
<p><code>o</code> is an object specifying all mapReduce options as well as the map and reduce functions. All options are delegated to the driver implementation. See [node-mongodb-native mapReduce() documentation for more detail about options.</p>
<p>This function does not trigger any middleware.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>var o = {};
o.map = function () { emit(this.name, 1) }
o.reduce = function (k, vals) { return vals.length }
User.mapReduce(o, function (err, results) {
  console.log(results)
})
</pre></div>


<p><strong>其他选项</strong></p>
<ul>
<li><code>query</code> {Object} query filter object.</li>
<li><code>sort</code> {Object} sort input objects using this key</li>
<li><code>limit</code> {Number} max number of documents</li>
<li><code>keeptemp</code> {Boolean, default:false} keep temporary data</li>
<li><code>finalize</code> {Function} finalize function</li>
<li><code>scope</code> {Object} scope variables exposed to map/reduce/finalize during execution</li>
<li><code>jsMode</code> {Boolean, default:false} it is possible to make the execution stay in JS. Provided in MongoDB &gt; 2.0.X</li>
<li><code>verbose</code> {Boolean, default:false} provide statistics on job execution time.</li>
<li><code>readPreference</code> {String}</li>
<li><code>out*</code> {Object, default: {inline:1}} sets the output target for the map reduce job.</li>
</ul>
<p><strong>输出选项</strong></p>
<ul>
<li><code>{inline:1}</code> the results are returned in an array</li>
<li><code>{replace: 'collectionName'}</code> add the results to collectionName: the results replace the collection</li>
<li><code>{reduce: 'collectionName'}</code> add the results to collectionName: if dups are detected, uses the reducer / finalize functions</li>
<li><code>{merge: 'collectionName'}</code> add the results to collectionName: if dups exist the new docs overwrite the old</li>
</ul>
<p>If <code>options.out</code> is set to <code>replace</code>, <code>merge</code>, or <code>reduce</code>, a Model instance is returned that can be used for further querying. Queries run against this model are all executed with the <code>lean</code> option; meaning only the js object is returned and no Mongoose magic is applied (getters, setters, etc).</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>var o = {};
o.map = function () { emit(this.name, 1) }
o.reduce = function (k, vals) { return vals.length }
o.out = { replace: &#39;createdCollectionNameForResults&#39; }
o.verbose = true;

User.mapReduce(o, function (err, model, stats) {
  console.log(&#39;map reduce took %d ms&#39;, stats.processtime)
  model.find().where(&#39;value&#39;).gt(10).exec(function (err, docs) {
    console.log(docs);
  });
})



o.resolveToObject = true;
var promise = User.mapReduce(o);
promise.then(function (res) {
  var model = res.model;
  var stats = res.stats;
  console.log(&#39;map reduce took %d ms&#39;, stats.processtime)
  return model.find().where(&#39;value&#39;).gt(10).exec();
}).then(function (docs) {
   console.log(docs);
}).then(null, handleError).end()
</pre></div>


<h2 id="modelaggregate">Model.aggregate()<a class="headerlink" href="#modelaggregate" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<p><strong>返回</strong></p>
<p>Performs [aggregations on the models collection.</p>
<p>If a <code>callback</code> is passed, the <code>aggregate</code> is executed and a <code>Promise</code> is returned. If a callback is not passed, the <code>aggregate</code> itself is returned.</p>
<p>This function does not trigger any middleware.</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>Users.aggregate(
  { $group: { _id: null, maxBalance: { $max: &#39;$balance&#39; }}},
  { $project: { _id: 0, maxBalance: 1 }},
  function (err, res) {
    if (err) return handleError(err);
    console.log(res);
  });


Users.aggregate()
  .group({ _id: null, maxBalance: { $max: &#39;$balance&#39; } })
  .select(&#39;-id maxBalance&#39;)
  .exec(function (err, res) {
    if (err) return handleError(err);
    console.log(res);
});
</pre></div>


<p><strong>注释</strong></p>
<ul>
<li>Arguments are not cast to the model's schema because <code>$project</code> operators allow redefining the "shape" of the documents at any stage of the pipeline, which may leave documents in an incompatible format.</li>
<li>The documents returned are plain javascript objects, not mongoose documents (since any shape of document can be returned).</li>
<li>Requires MongoDB &gt;= 2.1</li>
</ul>
<hr />
<h2 id="modelgeosearch">Model.geoSearch()<a class="headerlink" href="#modelgeosearch" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<ul>
<li>[callback] «Function» optional callback</li>
</ul>
<p><strong>返回</strong></p>
<p>Implements <code>$geoSearch</code> functionality for Mongoose</p>
<p>This function does not trigger any middleware</p>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="nt">var</span> <span class="nt">options</span> <span class="o">=</span> <span class="p">{</span> <span class="n">near</span><span class="p">:</span> <span class="cp">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="cp">]</span><span class="p">,</span> <span class="n">maxDistance</span><span class="o">:</span> <span class="mi">5</span> <span class="p">}</span><span class="o">;</span>
<span class="nt">Locations</span><span class="p">.</span><span class="nc">geoSearch</span><span class="o">(</span><span class="p">{</span> <span class="n">type</span> <span class="p">:</span> <span class="s2">&quot;house&quot;</span> <span class="p">}</span><span class="o">,</span> <span class="nt">options</span><span class="o">,</span> <span class="nt">function</span><span class="o">(</span><span class="nt">err</span><span class="o">,</span> <span class="nt">res</span><span class="o">)</span> <span class="p">{</span>
  <span class="err">console.log(res)</span><span class="p">;</span>
<span class="p">}</span><span class="o">);</span>
</pre></div>


<p><strong>选项</strong></p>
<ul>
<li><code>near</code> {Array} x,y point to search for</li>
<li><code>maxDistance</code> {Number} the maximum distance from the point near that a result can be</li>
<li><code>limit</code> {Number} The maximum number of results to return</li>
<li><code>lean</code> {Boolean} return the raw object instead of the Mongoose Model</li>
</ul>
<hr />
<h2 id="modelpopulate">Model.populate()<a class="headerlink" href="#modelpopulate" title="Permanent link">&para;</a></h2>
<p><strong>参数</strong></p>
<ul>
<li>[callback(err,doc)] «Function» Optional callback, executed upon completion. Receives <code>err</code> and the <code>doc(s)</code>.</li>
</ul>
<p><strong>返回</strong></p>
<p>Populates document references.</p>
<p><strong>可用的选项</strong></p>
<ul>
<li>path: space delimited path(s) to populate</li>
<li>select: optional fields to select</li>
<li>match: optional query conditions to match</li>
<li>model: optional name of the model to use for population</li>
<li>options: optional query options like sort, limit, etc</li>
</ul>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span>User.findById(id, function (err, user) {
  var opts = [
      { path: &#39;company&#39;, match: { x: 1 }, select: &#39;name&#39; }
    , { path: &#39;notes&#39;, options: { limit: 10 }, model: &#39;override&#39; }
  ]

  User.populate(user, opts, function (err, user) {
    console.log(user);
  });
});


User.find(match, function (err, users) {
  var opts = [{ path: &#39;company&#39;, match: { x: 1 }, select: &#39;name&#39; }]

  var promise = User.populate(users, opts);
  promise.then(console.log).end();
})










var user = { name: &#39;Indiana Jones&#39;, weapon: 389 }
Weapon.populate(user, { path: &#39;weapon&#39;, model: &#39;Weapon&#39; }, function (err, user) {
  console.log(user.weapon.name)
})


var users = [{ name: &#39;Indiana Jones&#39;, weapon: 389 }]
users.push({ name: &#39;Batman&#39;, weapon: 8921 })
Weapon.populate(users, { path: &#39;weapon&#39; }, function (err, users) {
  users.forEach(function (user) {
    console.log(&#39;%s uses a %s&#39;, users.name, user.weapon.name)


  });
});
</pre></div>


<hr />
<hr />
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../SchemaType/" title="模式类型" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  后退
                </span>
                模式类型
              </span>
            </div>
          </a>
        
        
          <a href="../Document/" title="文档" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  前进
                </span>
                文档
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            版权 &copy; 2018 -  wohugb.github.io
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="http://wohugb.github.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/wohugb" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/wohugb" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://linkedin.com/in/wohugb" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.6cdc17f0.js"></script>
      
        
        
          
          <script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              <script src="../../assets/javascripts/lunr/lunr.zh.js"></script>
            
          
          
        
      
      <script>app.initialize({version:"0.17.2",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>